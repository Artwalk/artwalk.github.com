<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="W6tSHHKonS5D5zJBZVuUw0cq8L_u_q38qoqh0UBQL8k" />













  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Artwalk's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico?v=5.1.0" />






<meta name="description" content="生活在别处">
<meta property="og:type" content="website">
<meta property="og:title" content="Artwalk's Blog">
<meta property="og:url" content="http://artwalk.github.io/page/11/index.html">
<meta property="og:site_name" content="Artwalk's Blog">
<meta property="og:description" content="生活在别处">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Artwalk's Blog">
<meta name="twitter:description" content="生活在别处">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://artwalk.github.io/page/11/"/>





  <title> Artwalk's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-45400676-1', 'auto');
  ga('send', 'pageview');
</script>











  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Artwalk's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">游走的艺术</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/books" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'ua5s4giqP1Qhp6X6k3tY','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://artwalk.github.io/2015/11/29/Harvard-Positive-Psychology/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Artwalk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Artwalk's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/29/Harvard-Positive-Psychology/" itemprop="url">
                  Harvard Positive Psychology
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-11-29T12:29:07+08:00">
                2015-11-29
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/11/29/Harvard-Positive-Psychology/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/11/29/Harvard-Positive-Psychology/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I have watched this course in my gap year, and captured many screenshots.  This course helps me a lot. For I clear up my old pictures today incidentally,  It’s time to turn them to text.</p>
<blockquote>
<p>Psychological maturity is about the ability to willingly shift perspective.</p>
</blockquote>
<h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><blockquote>
<p>The step on the way to a destination that you deem valuable that is important to you.</p>
<p>So end goal can often be liberating.</p>
<p>One of the reasons is because love, and especially lust and passion wears over time.</p>
<p>They are also extremely sensitive, wise, way beyond their years, saintly, generous, benevolent</p>
</blockquote>
<h2 id="Exercise"><a href="#Exercise" class="headerlink" title="Exercise"></a>Exercise</h2><blockquote>
<p>The wonder drug: 30 minutes of physical exercise, 4 times a week.<br>At least 15 minutes of mindful exercise 6 or 7 times a week.</p>
<p>I have so many things to do.</p>
<p>Exercise should be the last thing to go. It is an <strong>investment</strong>.  </p>
<p>You may lose that 45 minutes. But you’ll gain so much more. It’s such a good investment. Your memory actually gets better when you exercise. So you’ll get more buck for the bank in terms of time you study; your <strong>creativity and concentration</strong> levels go up</p>
<p>Whether you have ADD or not, especially if you have.</p>
</blockquote>
<h2 id="Relationship"><a href="#Relationship" class="headerlink" title="Relationship"></a>Relationship</h2><blockquote>
<p>People stay together out of a sense of duty, out of habit, because they think this is their lot in life.</p>
<p>A lack of alternative</p>
<p>“do unto others what you would unto yourself.”</p>
<p>“do not do unto yourself what you would not do unto others.”</p>
</blockquote>
<h2 id="Love"><a href="#Love" class="headerlink" title="Love"></a>Love</h2><blockquote>
<p>“Perfect love is rare indeed - for to be a lover will require that you continually have the subtlety of the very wise, the flexibility of the child, the sensitivity of the artist, the understanding of the philosopher, the acceptance of the saint, the tolerance of the scholar and the fortitude of the certain.”</p>
<p>But while perfect love doesn’t exist, <strong>true love dose</strong>. True love exists between imperfect humans.</p>
<p>I will find that right person. I don’t believe that. It’s simply not true. It’s not the matter of faith. </p>
<p>So what makes relationship unique? It’s not finding that one right person. Once again it’s cultivating that one chosen relationship. It’s by virtue of working together, of being together, of spending time together, of dedicating one another. That’s how we create the one chosen relationship. That’s how we create the one chosen relationship.</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://artwalk.github.io/2015/11/16/How-to-update-the-default-ruby-on-Mac-OS-X/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Artwalk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Artwalk's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/16/How-to-update-the-default-ruby-on-Mac-OS-X/" itemprop="url">
                  How to update the default ruby on Mac OS X
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-11-16T21:51:33+08:00">
                2015-11-16
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/11/16/How-to-update-the-default-ruby-on-Mac-OS-X/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/11/16/How-to-update-the-default-ruby-on-Mac-OS-X/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># I feel rbenv is easier than rvm</span></div><div class="line">brew install rbenv</div><div class="line"></div><div class="line"><span class="comment"># list all the versions that rbenv support    </span></div><div class="line">rbenv install --list</div><div class="line"></div><div class="line"><span class="comment"># install the latest one    </span></div><div class="line">rbenv install 2.2.3</div><div class="line"></div><div class="line"><span class="comment"># use 2.2.3 as global ruby  </span></div><div class="line">rbenv global 2.2.3</div></pre></td></tr></table></figure>
<p>Don’t forget to add <code>rbenv</code> as plugins in your <code>~/.zshrc</code></p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">plugins=(git, rbenv)</div><div class="line"></div><div class="line"><span class="comment"># use rbenv as default</span></div><div class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(rbenv init -)</span>"</span></div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://artwalk.github.io/2015/11/11/How-to-build-an-iOS-CI-without-jenkins/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Artwalk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Artwalk's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/11/How-to-build-an-iOS-CI-without-jenkins/" itemprop="url">
                  How to build an iOS CI without Jenkins
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-11-11T00:36:24+08:00">
                2015-11-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/11/11/How-to-build-an-iOS-CI-without-jenkins/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/11/11/How-to-build-an-iOS-CI-without-jenkins/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I used Jenkins with some Xcode plugins as our iOS CI half a year ago.</p>
<p>The main function I want is to build our project daily in the middle night, and +1 on the build number, then push this commit to <code>Phabricator</code>,  if any of these steps is fail, it will post a notification to <code>Slack</code>.</p>
<p>But after we are try to using <code>Carthage</code> instead of  <code>CocoaPod</code>, it need to <code>Carthage update</code> before building. The Jenkins can’t run commands before building. So I tried using shell directly.</p>
<h2 id="update-code"><a href="#update-code" class="headerlink" title="update code"></a>update code</h2><p>First it should <code>cd</code> into the project’s folder, then checkout new commits and update new frameworks</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> $(dirname <span class="variable">$0</span>)</div><div class="line">git checkout master</div><div class="line">git reset --hard origin/master</div><div class="line"></div><div class="line">/usr/<span class="built_in">local</span>/bin/carthage update</div></pre></td></tr></table></figure>
<p>then check that whether the last author is a coworker or the bot itself</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">author=$(git <span class="built_in">log</span> -1 | head -2 | tail -1 | cut <span class="_">-d</span> <span class="string">' '</span> <span class="_">-f</span>2)</div><div class="line"><span class="built_in">echo</span> <span class="variable">$author</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> [ <span class="variable">$author</span> != <span class="string">"bot"</span> ]; <span class="keyword">then</span></div><div class="line"><span class="comment"># <span class="doctag">TODO:</span></span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure>
<p>if it’s a coworker</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">projectName=$(find . -name <span class="string">"*.xcodeproj"</span> -depth 1 | cut <span class="_">-d</span> <span class="string">'/'</span>  <span class="_">-f</span> 2 | cut <span class="_">-d</span> <span class="string">'.'</span> <span class="_">-f</span> 1)</div><div class="line">plist=$(find <span class="variable">$projectName</span> -name <span class="string">"*.plist"</span> <span class="_">-d</span> 1)</div><div class="line"></div><div class="line"><span class="comment"># buildnum +1</span></div><div class="line">shortVersion=$(/usr/libexec/PlistBuddy -c <span class="string">"Print CFBundleShortVersionString"</span> <span class="string">"<span class="variable">$&#123;plist&#125;</span>"</span>)</div><div class="line">buildnum=$(/usr/libexec/PlistBuddy -c <span class="string">"Print CFBundleVersion"</span> <span class="string">"<span class="variable">$&#123;plist&#125;</span>"</span>)</div><div class="line">buildnum=$(expr <span class="variable">$buildnum</span> + 1)</div><div class="line"></div><div class="line">/usr/libexec/Plistbuddy -c <span class="string">"Set CFBundleVersion <span class="variable">$buildnum</span>"</span> <span class="string">"<span class="variable">$&#123;plist&#125;</span>"</span></div><div class="line"></div><div class="line"><span class="comment"># for AppleWatch</span></div><div class="line">WatchAppPlist=$(find WatchApp -name <span class="string">"*.plist"</span> <span class="_">-d</span> 1)</div><div class="line">WatchAppExtensionPlist=$(find <span class="string">'WatchApp Extension'</span> -name <span class="string">"*.plist"</span> <span class="_">-d</span> 1)</div><div class="line"></div><div class="line">/usr/libexec/Plistbuddy -c <span class="string">"Set CFBundleVersion <span class="variable">$buildnum</span>"</span> <span class="string">"<span class="variable">$&#123;WatchAppPlist&#125;</span>"</span></div><div class="line">/usr/libexec/Plistbuddy -c <span class="string">"Set CFBundleVersion <span class="variable">$buildnum</span>"</span> <span class="string">"<span class="variable">$&#123;WatchAppExtensionPlist&#125;</span>"</span></div></pre></td></tr></table></figure>
<p>Here is how to xcodebuild your ipa in the <em>build</em> folder</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">rm -rf build</div><div class="line"></div><div class="line">xcodebuild clean archive -archivePath build/<span class="variable">$YourApp</span>-Beta \</div><div class="line">-scheme <span class="variable">$YourAppScheme</span> </div><div class="line"></div><div class="line">xcodebuild -exportArchive \</div><div class="line">-exportFormat ipa \</div><div class="line">-archivePath <span class="string">"build/<span class="variable">$YourApp</span>-Beta.xcarchive"</span> \</div><div class="line">-exportPath <span class="string">"build/<span class="variable">$YourApp</span>-Beta.ipa"</span> \</div><div class="line">-exportProvisioningProfile <span class="string">"<span class="variable">$YourtProvisioningProfile</span>"</span></div></pre></td></tr></table></figure>
<p>then you can upload your *.ipa to your server ( for instance using curl)</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">rm -rf build <span class="comment"># clean up</span></div><div class="line"></div><div class="line"><span class="comment"># push to remote</span></div><div class="line">git config user.email <span class="string">"bot@yourdomain.com"</span></div><div class="line">git config user.name <span class="string">"bot"</span></div><div class="line">git commit <span class="_">-a</span> -m <span class="string">"<span class="variable">$buildnum</span>"</span></div><div class="line">git push origin master</div></pre></td></tr></table></figure>
<p>How to post a message to Slack</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># post2Slack $msg</span></div><div class="line"><span class="function"><span class="title">post2Slack</span></span>() &#123;</div><div class="line"></div><div class="line">	SLACK_HOSTNAME=<span class="string">"hooks.slack.com"</span></div><div class="line">	SLACK_CHANNEL=“<span class="comment">#YourChannel”</span></div><div class="line">	SLACK_BOTNAME=<span class="string">"bot"</span></div><div class="line">	ICON=<span class="string">":x:"</span></div><div class="line">	SLACK_BOTEMOJI=<span class="string">":joy:"</span></div><div class="line">	MESSAGE=<span class="variable">$1</span></div><div class="line"></div><div class="line"><span class="comment"># Send message to Slack</span></div><div class="line">PAYLOAD=<span class="string">"payload=&#123;\"channel\": \"<span class="variable">$&#123;SLACK_CHANNEL&#125;</span>\", \"username\": \"<span class="variable">$&#123;SLACK_BOTNAME&#125;</span>\", \"text\": \"<span class="variable">$&#123;ICON&#125;</span> <span class="variable">$&#123;MESSAGE&#125;</span>\", \"icon_emoji\": \"<span class="variable">$&#123;SLACK_BOTEMOJI&#125;</span>\"&#125;"</span>;</div><div class="line">curl -X POST --data-urlencode <span class="string">"<span class="variable">$PAYLOAD</span>"</span> <span class="variable">$getThisURLInYourSlackChannel</span> &#125;</div><div class="line"></div><div class="line"><span class="comment"># post2Slack &amp;&amp; exit</span></div><div class="line"><span class="function"><span class="title">post2SlackAndExitWithMsg</span></span>() &#123;</div><div class="line">	post2Slack <span class="string">"<span class="variable">$&#123;1&#125;</span>"</span> &amp;&amp; <span class="built_in">exit</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>then you can combine any commands like this:</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push origin master || post2SlackAndExitWithMsg <span class="string">"git push failed"</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/img/avatar.png"
               alt="Artwalk" />
          <p class="site-author-name" itemprop="name">Artwalk</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">130</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">69</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Artwalk" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/art_holy" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/Artwalk" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/Artwalk" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/Artwalk" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Artwalk</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'Artwalk';
      var disqus_identifier = 'page/11/index.html';

      var disqus_title = "";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      

    </script>
  










  
  

  

  

  

  


  

</body>
</html>
